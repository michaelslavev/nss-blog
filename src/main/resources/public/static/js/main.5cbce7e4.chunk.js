(this.webpackJsonpnss=this.webpackJsonpnss||[]).push([[0],{48:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAABkCAYAAAA8AQ3AAAAACXBIWXMAAD2EAAA9hAHVrK90AAAGTmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNS0yNFQxNTozMzoxMiswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNS0yNFQxNTozMzoxMiswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDUtMjRUMTU6MzM6MTIrMDI6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZDA1ZTljMTYtMTg4ZC0yODQ0LTliMGYtMmZlNzc2OGU1NTAxIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NGI4ZTgxOTAtOTk0OS1jNTQ2LTk2NjEtZjA1NGFmYTk5OGE5IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NWUxNzBjZDItZmM3NS00ODRiLWE2ZWQtNzU1YmI4ZjYzNTUzIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NWUxNzBjZDItZmM3NS00ODRiLWE2ZWQtNzU1YmI4ZjYzNTUzIiBzdEV2dDp3aGVuPSIyMDIwLTA1LTI0VDE1OjMzOjEyKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpkMDVlOWMxNi0xODhkLTI4NDQtOWIwZi0yZmU3NzY4ZTU1MDEiIHN0RXZ0OndoZW49IjIwMjAtMDUtMjRUMTU6MzM6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6VGV4dExheWVycz4gPHJkZjpCYWc+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iVGhlIEJsb2ciIHBob3Rvc2hvcDpMYXllclRleHQ9IlRoZSBCbG9nIi8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz75G8nwAAAFVElEQVR4nO3d3bKcKhSF0WUqz6rPpC/buUiZcptWkd814Rt3p062ouBsRMTp8/kYACj41boAABCKwAIgg8ACIIPAAiCDwAIgg8ACIIPAAiCDwAIgg8ACIIPAAiCDwAIgg8ACIIPAAiCDwAIgg8ACIIPAAiCDwAIgg8ACIIPAAiCDwAIgg8ACION36wJM09S6CP9Z1/XHp4SWZfFXSBQxWt2rfTWLHtbJucFiHN/qnvbgC4EVgEYL+ND8lhAwC/9R6P0WDfeqB9a2bf8a5jzPNL6BxfRcj39DeI2namAdw2r/73Vdq+ybxu1LjtvsfRvU7TiqBdY5rGq7ukBo7PrWdf1Qj2MYftCdAfU+rOv6oS77N3xgoS+EVt+q3RLO8zy1vi2Ef0+3diGBxC1iv6oOuh+fCnoJLxq2lr2+6EmNqdk8rD28Ql7NyTFg/m0bhJWuZVmmu9Cil9WnYSaO0nj78xRa6A+D7pB290NEmPWHwII8es/jILAAyCCwAMggsADIGOYpYWl3A7ylxlhYkkXLU33VqKdzGbZt+/H/va+gQmAlCp15bZavQb59+sWSLG2F1lep1SfetJd9QrfX4CKwIsWu5ZTSGHMtydJbaHldiSO2vnLVUUp78RpcjGFFSGkIKY04dp8lt4XvUs9xahvLVcfbtn28vEZnRmC91uJiL7HPXkLL43HkKlPqiqw5eQkticBq3bXf9RJWNbZdY78tHnQ8yX1O32zPY3jnxhhWoJgnPFd/EzpGEdIAR3w1xetxxdZXzuWi3+5//y6hlx7UEwIrUcve39O+e1uKxfM0jpQpC0/1lGMQ/unv98F178ElHVitn3iFBEaJQfa3x6y0qkFqOb0MHxyVLpOH+V21SIxheaTSCEZa69zjuNWbMpUov0o7DUVgRWj5ixm675Cg6q0x9+zudvHqb3qsXwJLSOhA/Sg9qjNvxx4TGLlCpsewMhMfw2rBa0N4e6F6PY4can5g1VNApvI+4G5GYL3i8QIgqK61fCjjsa2k8PKKDoEl4nwB9BhUueamnf+9wrHn1PPxEliBPDSCmF9UD+XO6Xg8b1ZB6O08jIrAEtFjjypVTHhBG4HVkRFC6kqN2eJoj2kNHViWZeJi/Ivz0Dd6WKK4MJGTwpQGMwJLDkF1T30sy+vqqV5wSyikxFrf3maHp2hxHFd1onROVXpXZgSWO7XWtzpvS+kC+6aH9yZbrFSqFFZmBJacmou9KfD8kneu83xVfoUQzo3AaqTVRwZ6CStPt7I5esUtllb2cv7eYNDdodAF90Jf8lVsmEcp5ffQC7mbA5baO7xrK1f7fXs+vbxHaEZgufVmldAcgeTlws65vZrH9FRfCh/8mOd58j6mxS1hYR6C4IlCGd9oNZE29z5Dt9db/d0hsA683TrVuPB6a+y9HE/Muv0p+/N023dH+pawl8b5pMRHJHo6d56OJceXimKPJ7adqISVmVAP61yJoy3Yn6u35eG9w5zH0fpYrsQuj1z6c15nSmFlZjbtH1JsVoDJ3/k6/0qlNqJSr1t4/k5fCI/lz133V9stsY+YfZ6v/2+D7p5CjcCqpNSFAKQ4Xv9XTwg9BZb0GJYSAgpIJzOGBQAEFgAZBBYAifErMwILgBACCxic9/cHjwgsADIILGBgd70rb+NXZszDAqR9m80eMufP24v+oZjpDogqGToee1dm3BICOPEaVmYEFgAhjGEBMDPfPasdPSxAVM4X6hXCyoxBd6Abbwfhl2Vpfv2/JVdgAOPilhCADAILgAwCC4AMAguADAILgAwCC4AMAguADAILgAwCC4AMAguADAILgIw/26Ar60JFowYAAAAASUVORK5CYII="},53:function(e,t,n){e.exports=n(67)},58:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),l=n.n(o),c=(n(58),n(6)),i=n(7),u=n(8),s=n(9),p=n(37),m=n(5),d=n(50),b=n.n(d),h=n(15),g=n(23),A=n.n(g),I=n(42),v=n(43),E=n(48),f=n.n(E),O=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e;return r.a.createElement("div",{className:"navbar-wrapper"},r.a.createElement(I.a,{bg:"dark",variant:"dark"},r.a.createElement(I.a.Brand,{href:"/"},r.a.createElement("img",{alt:"",src:f.a,width:"120",height:"30",className:"d-inline-block align-top"})," "),r.a.createElement(v.a,{className:"mr-auto"},this.props.loggedIn&&"ADMIN"===(null===(e=this.props.user)||void 0===e?void 0:e.role)?r.a.createElement(A.a,{to:"/add"},"Add Article"):null),r.a.createElement(v.a,null,this.props.loggedIn?null:r.a.createElement(A.a,{to:"/login"},"Login"),this.props.loggedIn?null:r.a.createElement(A.a,{to:"/register"},"Register"),this.props.loggedIn?r.a.createElement(A.a,{to:"/j_spring_security_logout",onClick:this.props.logout},"Logout"):null)))}}]),n}(r.a.Component),j=Object(h.b)((function(e,t){return{loggedIn:e.loggedIn,user:e.user}}),(function(e){return{logout:function(){e({type:"LOGOUT"})}}}))(O),y=n(20),N=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).loadMore=function(){a.setState((function(e){return{visible:e.visible+4}}))},a.state={articles:[],visible:2,error:!1},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/articles").then((function(e){return e.json()})).then((function(t){e.setState({articles:t})})).catch((function(t){console.log(t),e.setState({error:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage-wrapper"},r.a.createElement(j,null),this.state.articles.slice(0,this.state.visible).map((function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(y.a,null,r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,null,e.title),r.a.createElement(y.a.Text,null,e.content.substr(0,150)),r.a.createElement(y.a.Text,null,r.a.createElement(b.a,{to:"/article/"+e.id},"Link"))))))})),this.state.visible<this.state.articles.length&&r.a.createElement("button",{onClick:this.loadMore,type:"button",className:"load-more"},"Load more"))}}]),n}(r.a.Component),w=n(51),C=n.n(w),G=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).loginRequest=function(t){t.preventDefault();var n={username:document.querySelector("input#username-input").value,password:document.querySelector("input#password-input").value};fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){202===t.status&&t.ok&&(t.json().then((function(t){return e.props.userLoggedIn(t)})),e.props.history.push("/"))})).catch((function(e){console.log(e)}))},e.login=function(t){fetch("/api/users/current",{}).then((function(t){t.json().then((function(t){return e.props.userLoggedIn(t)}))}))},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-wrapper"},r.a.createElement(j,null),r.a.createElement("form",{onSubmit:this.loginRequest,id:"login-form"},r.a.createElement("label",{htmlFor:"username-input"},"username:"),r.a.createElement("input",{id:"username-input",placeholder:"Username"}),r.a.createElement("label",{htmlFor:"password-input"},"password:"),r.a.createElement("input",{id:"password-input",type:"password",placeholder:"password"}),r.a.createElement("button",{type:"submit"},"submit")))}}]),n}(r.a.Component),Z=Object(h.b)((function(e){return{user:e.user}}),(function(e){return{userLoggedIn:function(t){e({type:"LOGGING_IN",user:t})}}}))(C()(G)),S=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"logout-wrapper"},r.a.createElement(m.Redirect,{to:"/"}),">")}}]),n}(r.a.Component),M=n(10),R=n(30),D=n(29),L=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).submit=function(e){e.preventDefault();var t=document.querySelector("input#title-input"),n=document.querySelector("input#content-input");if(t.value.length>0&&n.value.length>0){var a={title:t.value,content:n.value};fetch("/api/articles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){console.log(e)})).catch((function(e){console.log(e),alert("oops")}))}else alert("N\u011bco chyb\xed")},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"add-article-wrapper"},r.a.createElement(j,null),r.a.createElement(D.a,{fluid:!0},r.a.createElement(M.a,{onSubmit:this.submit},r.a.createElement(M.a.Group,{controlId:"formTitle"},r.a.createElement(M.a.Label,null,"Title"),r.a.createElement(M.a.Control,{type:"text",placeholder:"Enter title",id:"title-input"})),r.a.createElement(M.a.Group,{controlId:"formContent"},r.a.createElement(M.a.Label,null,"Content"),r.a.createElement(M.a.Control,{type:"text",placeholder:"Enter content",id:"content-input"})),r.a.createElement(R.a,{variant:"primary",type:"submit"},"Submit"))))}}]),n}(r.a.Component),k=Object(h.b)((function(e,t){return{user:e.user}}))(L),T=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).submit=function(e){e.preventDefault();var t={username:document.querySelector("input#username-input").value,password:document.querySelector("input#password-input").value};fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){201===e.status&&e.ok&&console.log("succesfully registered")})).catch((function(e){console.log(e)}))},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"register-wrapper"},r.a.createElement(j,null),r.a.createElement(M.a,{onSubmit:this.submit},r.a.createElement(M.a.Group,{controlId:"formTitle"},r.a.createElement(M.a.Label,null,"Username"),r.a.createElement(M.a.Control,{type:"text",placeholder:"Enter username",id:"username-input"})),r.a.createElement(M.a.Group,{controlId:"formContent"},r.a.createElement(M.a.Label,null,"Password"),r.a.createElement(M.a.Control,{type:"password",placeholder:"Enter password",id:"password-input"})),r.a.createElement(R.a,{variant:"primary",type:"submit"},"Submit")))}}]),n}(r.a.Component),x=Object(h.b)((function(e){return{user:e.user}}),(function(e){return{userLoggedIn:function(t){e({type:"LOGGING_IN",user:t})}}}))(T),z=n(52),W=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e,t;return r.a.createElement(z.a,{fluid:!0},r.a.createElement(D.a,null,r.a.createElement("h1",null,this.props.title),r.a.createElement("h3",null,(null===(e=this.props.author)||void 0===e?void 0:e.firstName)+" "+(null===(t=this.props.author)||void 0===t?void 0:t.lastName)," | ",new Date(this.props.created).toLocaleDateString()),r.a.createElement("p",null,this.props.content)))}}]),n}(r.a.Component),B=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={article:null},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.article_id;fetch("/api/articles/"+t).then((function(t){console.log(t),t.json().then((function(t){console.log(t),e.setState({article:t})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e,t,n,a;return r.a.createElement("div",{className:"article-wrapper"},r.a.createElement(j,null),r.a.createElement(W,{title:null===(e=this.state.article)||void 0===e?void 0:e.title,content:null===(t=this.state.article)||void 0===t?void 0:t.content,created:null===(n=this.state.article)||void 0===n?void 0:n.date,author:null===(a=this.state.article)||void 0===a?void 0:a.user}))}}]),n}(r.a.Component),J=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(m.Route,{exact:!0,path:"/",component:N}),r.a.createElement(m.Route,{exact:!0,path:"/login",component:Z}),r.a.createElement(m.Route,{exact:!0,path:"/j_spring_security_logout",component:S}),r.a.createElement(m.Route,{exact:!0,path:"/add",component:k}),r.a.createElement(m.Route,{exact:!0,path:"/register",component:x}),r.a.createElement(m.Route,{path:"/article/:article_id",component:B}))}}]),n}(a.Component),Y=n(26);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(44),V={loggedIn:sessionStorage.getItem("loggedin")||!1,user:JSON.parse(sessionStorage.getItem("user"))||null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;return"LOGGING_IN"==t.type?(sessionStorage.setItem("user",JSON.stringify(t.user)),sessionStorage.setItem("loggedin",!0),Object(P.a)({},e,{loggedIn:!0,user:t.user})):"LOGOUT"==t.type?(sessionStorage.clear(),Object(P.a)({},e,{loggedIn:!1,user:null})):e},F=(n(66),Object(Y.b)(H));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:F},r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.5cbce7e4.chunk.js.map